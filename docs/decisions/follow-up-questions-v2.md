# LinkingChat 追问清单 v2（架构师补充）

> 这些问题在通读全部文档后整理，聚焦于**会阻塞开发启动或改变架构方向**的决策点。
> 请在每个问题的 **回答：** 后填写。标注 `[阻塞]` 的问题不解决就无法开始写代码。

---

## 一、项目身份

### Q1. 项目最终名称 `[阻塞]`

文档中出现了多个名称：Neural Link、Ghost Mate、LinkChat、linkingChat。
这会影响包名、仓库名、品牌一致性。请确定一个**正式产品名**和一个**代码层面的项目名**（package name）。

- 例如：产品名 = Neural Link，package name = `neural-link`
- 或者：产品名 = LinkChat，package name = `linkchat`

**回答：**
linkingChat是产品
---

## 二、OpenClaw 集成（核心架构决策）

### Q2. OpenClaw 到底是什么？ `[阻塞]`

文档给了 GitHub 链接 (github.com/openclaw/openclaw)，但没描述它的实际能力。我需要知道：

- a) 它是一个 npm 包？Python 包？独立可执行文件？还是一个在线服务？
- b) 它目前能做什么？（Shell 执行？文件操作？浏览器控制？AI Agent？）
- c) 它有可用的文档或 API 定义吗？
- d) 是你们团队开发的还是第三方项目？

**回答：**直接打开链接深度研究项目啊

### Q3. OpenClaw 的集成方式 `[阻塞]`

这决定了桌面端的整体架构：

- A. **作为 npm 依赖**引入 Electron 项目
- B. **独立进程**运行，Electron 通过 IPC / HTTP / WebSocket 调用
- C. **Fork 它的代码**合并到我们的项目中
- D. **不直接用 OpenClaw**，只参考它的思路自己实现 Shell/File/Browser 执行能力
- E. 需要我先调研 OpenClaw 仓库再给你方案

**回答：**
![alt text](image.png)![alt text](image-1.png)
---

## 三、MVP 范围（最关键的范围决策）

### Q4. MVP 社交功能的具体边界 `[阻塞]`

"复刻 Discord/WhatsApp" 范围极大（语音、视频、频道、权限、消息搜索、消息撤回、已读回执...）。2-3 人团队不可能一次做完。

请逐条确认 **MVP 第一版**必须有的功能（打 ✅），不急的打 ❌：

| 功能 | MVP？ |
|------|-------|
| 邮箱注册 / 登录 | |
| 好友系统（添加、删除、列表） | |
| 1对1 文字聊天 | |
| 1对1 文件/图片发送 | |
| 群聊 | |
| 消息推送（离线通知） | |
| 用户头像 / 个人资料 | |
| 在线/离线状态 | |
| 消息已读回执 | |
| 消息撤回 | |
| 消息搜索 | |
| 语音消息 | |
| 语音/视频通话 | |❌：

以上所有除了语音视频通话
### Q5. MVP 的 AI 功能边界

三大交互模式中，MVP 第一版做哪些？

| 功能 | MVP？ |
|------|-------|
| Draft & Verify（草稿确认） | |
| The Whisper（耳语建议） | |
| Predictive Actions（预测执行） | |

PRD 标注 Draft & Verify 和 Predictive Actions 是 P0，但第一版全做会拉长周期。建议：**MVP 只做 Draft & Verify**，其他后续迭代。你的意见？

**回答：**
都做
---

## 四、设备配对与安全模型

### Q6. 手机如何"认领"自己的电脑？ `[阻塞]`

这是远程控制的前提。用户第一次使用时，手机端怎么和桌面端建立绑定关系？

- A. **同账号自动关联**：手机和电脑登录同一账号，自动识别为同一用户的设备
- B. **扫码配对**：电脑显示二维码，手机扫码绑定（类似微信电脑版）
- C. **配对码**：电脑生成一个 6 位短码，手机输入后绑定
- D. 你来推荐

**回答：**
同账号自动关联*
### Q7. 一个用户能绑定多台电脑吗？

- A. MVP 只支持绑定 1 台电脑
- B. 支持多台，发指令时选择目标电脑
- C. 你来推荐

**回答：**
支持多台，发指令时选择目标电脑
### Q8. 远程命令的安全边界 `[阻塞]`

用户通过手机可以远程执行 Shell 命令，这有很大的安全风险。安全策略是什么？

- A. **白名单制**：只允许预定义的命令类型（文件读写、特定 Shell 命令）
- B. **黑名单制**：屏蔽危险命令（rm -rf、format、shutdown 等），其他放行
- C. **全放行 + 二次确认**：任何命令都可以执行，但危险命令桌面端弹窗二次确认
- D. **分级制**：低危命令直接执行，中危需手机确认，高危需桌面端 + 手机双重确认
- E. 你来推荐

**回答：**
**黑名单制**：屏蔽危险命令
---

## 五、技术方案落地

### Q9. 消息协议的具体选择 `[阻塞]`

之前回答"参照 Discord/WhatsApp"，但需要一个具体方案：

- A. **自研 WebSocket 协议**：社交消息和设备控制共用一条 WSS 连接，自定义消息类型（architecture.md 中已有雏形）
- B. **社交和控制分两条连接**：聊天走一条 WSS，设备控制走另一条 WSS
- C. **用成熟 IM SDK**（如 Matrix、Sendbird）处理社交消息，设备控制单独走 WSS
- D. 你来推荐

**回答：**
找一个GitHub开源项目
### Q10. 文件/图片存储方案

聊天中的图片和文件存哪里？

- A. **云端对象存储**（S3 / 阿里 OSS / 腾讯 COS）
- B. **PostgreSQL 直接存**（小文件 base64，大文件不推荐）
- C. **先存本地文件系统**，后续迁移到对象存储
- D. 你来推荐

**回答：**
抄discord
### Q11. WebSocket 认证方案

之前回答"你来推荐"。我的建议是 **JWT**（注册登录返回 JWT token，WSS 连接时在 header 或首条消息中携带）。

- A. 同意用 JWT
- B. 有其他想法

**回答：**
A
---

## 六、开发环境与流程

### Q12. 开发阶段的三端通信

开发时三端（手机、云端、桌面）是否都在同一台机器上？

- A. **全本地**：云端跑 localhost，桌面端本地，手机用模拟器或同局域网真机
- B. **云端部署到服务器**，桌面和手机连远程
- C. 先 A 后 B

**回答：**
C
### Q13. 目标用户的语言

App 的默认语言是什么？

- A. 中文优先，后续加英文
- B. 英文优先，后续加中文
- C. 从一开始就做双语（i18n）
- D. MVP 不考虑多语言，先硬编码一种语言

**回答：**
C
### Q14. 代码和注释语言

代码中的变量名、注释、commit message 用什么语言？

- A. 全英文
- B. 代码英文，注释中文
- C. 无所谓，混着来

**回答：**
B
---

## 七、优先级排序

### Q15. 第一个 Sprint 的范围确认 `[阻塞]`

基于"全链路最小 PoC"策略，我理解第一个 Sprint 的目标是：

> 手机发一条文字指令 → 云端转发 → 桌面端执行 Shell 命令 → 结果返回手机显示

这意味着第一个 Sprint **不需要**：
- 好友系统（手机直接连自己的电脑）
- AI 功能（直接转发命令，不经过 LLM）
- 群聊
- 文件传输

是否同意？或者你认为第一个 Sprint 应该包含更多？

**回答：**
同意
---

*填写完成后请告知，我会基于这些回答开始设计项目骨架和第一个 Sprint 的实施计划。*
